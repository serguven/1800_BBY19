<!DOCTYPE html>
<html lang="eng">

<head>
  <title>Reminder Page</title>
  <meta charset="utf-8" />

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Hind+Siliguri:wght@300&family=Patrick+Hand+SC&display=swap"
    rel="stylesheet">
  <link href="./styles/my_style.css" rel="stylesheet">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>
  
  <!-- Link to the API keys for Excelsior Firebase -->
  <script src="scripts/firebaseAPI.js"></script>


</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-warning">
    <div class="container-fluid">
      <a class="navbar-brand" href="main.html"><img class="d-block mx-auto mb-4" src="./images/Excelsior-logo.png"
          alt="" width="100" height="100"></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <div class="popover__wrapper">
              <a href="#" class="popover__title">Are you forgetting something?</a>
              <div class="popover__content">
                <p class="popover__message">Try out Gordon Ramsay's scrambled eggs recipe that you learn on Halloween!
                </p>
                <img alt="scramble eggs" src="./images/crambledeggs.jpg" width="80%" height="80%">
              </div>
            </div>
          </li>
          <li class="nav-item">
            <div class="popover__wrapper">
              <a href="#" class="popover__title">New Reminder's Voice</a>
              <div class="popover__content">
                <p class="popover__message">
                <form action="/action_page.php">
                  <p>Please select your new reminder's voice: </p>
                  <input type="radio" id="anime" name="fav_voice">
                    <label for="anime">Anime Voice</label><br>
                  <input type="radio" id="snow-white" name="fav_voice">
                    <label for="snow-white">Snow White</label><br>
                  <input type="radio" id="cruella" name="fav_voice">
                    <label for="cruella">Cruella de Vil</label><br>
                  <input type="radio" id="newsanchor" name="fav_voice">
                    <label for="newsanchor">News Anchor</label><br>
                  <input type="radio" id="natgeo-nar" name="fav_voice">
                    <label for="natgeo-nar">NatGeo Narattor</label><br>
                  <input type="submit" value="All Set!"
                    style="margin-top: 50px; border: none; border-radius: 10%; background-color: rgb(252, 186, 3);">
                </form>
                </p>
              </div>
            </div>
          </li>
          <li class="nav-item">
            <div class="popover__wrapper">
              <a href="#" class="popover__title">Calendar</a>
              <div class="popover__content">
                <p class="popover__message">
                <form action="/action_page.php">
                  <div class="month">
                    <ul>
                      <li class="prev">&#10094;</li>
                      <li class="next">&#10095;</li>
                      <li>
                        October<br>
                        <span style="font-size:18px">2021</span>
                      </li>
                    </ul>
                  </div>

                  <ul class="weekdays" style="font-size: 10px;">
                    <li>Mo</li>
                    <li>Tu</li>
                    <li>We</li>
                    <li>Th</li>
                    <li>Fr</li>
                    <li>Sa</li>
                    <li>Su</li>
                  </ul>

                  <ul class="days">
                    <li>1</li>
                    <li>2</li>
                    <li>3</li>
                    <li>4</li>
                    <li>5</li>
                    <li>6</li>
                    <li>7</li>
                    <li>8</li>
                    <li>9</li>
                    <li><span class="active">10</span></li>
                    <li>11</li>
                    <li>12</li>
                    <li>13</li>
                    <li>14</li>
                    <li>15</li>
                    <li>16</li>
                    <li>17</li>
                    <li>18</li>
                    <li>19</li>
                    <li>20</li>
                    <li>21</li>
                    <li>22</li>
                    <li>23</li>
                    <li>24</li>
                    <li>25</li>
                    <li>26</li>
                    <li>27</li>
                    <li>28</li>
                    <li>29</li>
                    <li>30</li>
                    <li>31</li>
                  </ul>
                </form>
                </p>
              </div>
            </div>
          </li>

          <li class="nav-item">
            <div class="popover__wrapper">
              <a href="reminder.html" class="popover__title">New Reminder</a>
              <div class="popover__content">
                <p class="popover__message">
                <form action="/action_page.php">
                  <p>Click Here To Create A New Reminder! </p>
          </li>
        </ul>


        <div class="btn-group">
          <button type="button" class="btn btn-primary"><a href="login.html" class="btn-primary">Login</a></button>
        </div>
      </div>
    </div>

  </nav>

  <section>
    <form>
      <div id="roar">
        <h1>Let's Start Your New Habits With A Goal Name!</h1>
      </div>
      <div id="nameOfGoal">
        <p>Goal Name: </p>
        <input type="text" id="title" placeholder="Goal Name" aria-label="Username"
          aria-describedby="basic-addon1">
      </div>
      <div id="reminderCalendar">
        <p>Reminder Date:</p>
        <input type="text" id="reminder-month" placeholder="Month" aria-label="Username"
          aria-describedby="basic-addon1">
          <input type="text" id="remind-day" placeholder="Day" aria-label="Username"
          aria-describedby="basic-addon1">
          <input type="text" id="reminder-year" placeholder="Year" aria-label="Username"
          aria-describedby="basic-addon1">
          <br> <br>
          <input type="text" id="reminder-time" placeholder="Time" aria-label="Username"
          aria-describedby="basic-addon1">
      </div>
      <div id="ringtoneVolume">
        <p>Ringtone Volume: </p>
        <div class="slidecontainer">
          <input type="range" min="1" max="100" value="50" class="slider" id="myRange">
          <p>Volume: <span id="demo"> %</span></p>
        </div>
      </div>
      <div id="finished">
        <button type="button" class="btn btn-warning btn-lg" onclick="createReminder()">FINISHED</button>
      </div>
    </form>
  </section>

  <script>
    function createReminder() {
        let Title = document.getElementById("title").value;
        let Month = document.getElementById("reminder-month").value;
        let Day = document.getElementById("remind-day").value;
        let Time = document.getElementById("reminder-time").value;
        
        firebase.auth().onAuthStateChanged(user => {
          if(user) {
            var currentUser = db.collection("users").doc(user.uid)
            var userID = user.uid;
            
            currentUser.get()
              .then(userDoc => {
                var userEmail = userDoc.data().email;

                db.collection("reminders").add({
                  UserId: userID,
                  UserEmail: userEmail,
                  Month: Month,
                  Day: Day,
                  Description: Title,
                  Time: Time
                });
              })
          } else {
            console.log("no user signed in.");
          }
        });
    }
    
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo");
    output.innerHTML = slider.value;

    slider.oninput = function () {
      output.innerHTML = this.value + "%";
    }

  </script>
</body>

</html>