<!DOCTYPE html>
<html lang="en">

<head>
    <title>Excelsior</title>
    <meta charset="utf-8" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Hind+Siliguri:wght@300&family=Patrick+Hand+SC&display=swap"
        rel="stylesheet">
    <link href="./styles/my_style.css" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <!-- Firebase 8 related JS CDN -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous">
        </script>

    <!-- Link to the API keys for Excelsior Firebase -->
    <script src="scripts/firebaseAPI.js"></script>

</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="main.html"><img class="d-block mx-auto mb-4" src="./images/Excelsior-logo.png"
                    alt="" width="100" height="100"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <div class="popover__wrapper">
                            <a href="#" class="popover__title">Are you forgetting something?</a>
                            <div class="popover__content">
                                <p class="popover__message">Try out Gordon Ramsay's scrambled eggs recipe that you learn
                                    on Halloween!
                                </p>
                                <img alt="scramble eggs" src="./images/crambledeggs.jpg" width="80%" height="80%">
                            </div>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="popover__wrapper">
                            <a href="#" class="popover__title">New Reminder's Voice</a>
                            <div class="popover__content">
                                <p class="popover__message">
                                <form action="/action_page.php">
                                    <p>Please select your new reminder's voice: </p>
                                    <input type="radio" id="anime" name="fav_voice">
                                      <label for="anime">Anime Voice</label><br>
                                    <input type="radio" id="snow-white" name="fav_voice">
                                      <label for="snow-white">Snow White</label><br>
                                    <input type="radio" id="cruella" name="fav_voice">
                                      <label for="cruella">Cruella de Vil</label><br>
                                    <input type="radio" id="newsanchor" name="fav_voice">
                                      <label for="newsanchor">News Anchor</label><br>
                                    <input type="radio" id="natgeo-nar" name="fav_voice">
                                      <label for="natgeo-nar">NatGeo Narattor</label><br>
                                    <input type="submit" value="All Set!"
                                        style="margin-top: 50px; border: none; border-radius: 10%; background-color: rgb(226, 191, 226);">
                                </form>
                                </p>
                            </div>
                        </div>
                    </li>
                    <li class="nav-item">
                        <div class="popover__wrapper">
                            <a href="#" class="popover__title">Calendar</a>
                            <div class="popover__content">
                                <p class="popover__message">
                                <form action="/action_page.php">
                                    <div class="month">
                                        <ul>
                                            <li class="prev">&#10094;</li>
                                            <li class="next">&#10095;</li>
                                            <li>
                                                October<br>
                                                <span style="font-size:18px">2021</span>
                                            </li>
                                        </ul>
                                    </div>

                                    <ul class="weekdays" style="font-size: 10px;">
                                        <li>Mo</li>
                                        <li>Tu</li>
                                        <li>We</li>
                                        <li>Th</li>
                                        <li>Fr</li>
                                        <li>Sa</li>
                                        <li>Su</li>
                                    </ul>

                                    <ul class="days">
                                        <li>1</li>
                                        <li>2</li>
                                        <li>3</li>
                                        <li>4</li>
                                        <li>5</li>
                                        <li>6</li>
                                        <li>7</li>
                                        <li>8</li>
                                        <li>9</li>
                                        <li><span class="active">10</span></li>
                                        <li>11</li>
                                        <li>12</li>
                                        <li>13</li>
                                        <li>14</li>
                                        <li>15</li>
                                        <li>16</li>
                                        <li>17</li>
                                        <li>18</li>
                                        <li>19</li>
                                        <li>20</li>
                                        <li>21</li>
                                        <li>22</li>
                                        <li>23</li>
                                        <li>24</li>
                                        <li>25</li>
                                        <li>26</li>
                                        <li>27</li>
                                        <li>28</li>
                                        <li>29</li>
                                        <li>30</li>
                                        <li>31</li>
                                    </ul>
                                </form>
                                </p>
                            </div>
                        </div>
                    </li>

                    <li class="nav-item">
                        <div class="popover__wrapper">
                          <a href="CreatedPrograms.html" class="popover__title">Programs</a>
                          <div class="popover__content">
                            <p class="popover__message">
                            <form action="/action_page.php">
                              <p>Click Here To See Your Programs </p>
                      </li>

                      <li class="nav-item">
                        <div class="popover__wrapper">
                            <a href="reminders.html" class="popover__title">Reminders</a>
                            <div class="popover__content">
                                <p class="popover__message">
                                <form action="/action_page.php">
                                    <p>Click Here To See Your Reminders </p>
                    </li>
                </ul>

                <div class="profile-picture">
                    <div class="popover__wrapper">
                        <a href="profile.html"><img src="images/Profile_avatar_placeholder.png" id="photo"></a>
                        <div class="popover__content">
                            <p class="popover__message">
                            <form action="/action_page.php">
                                <p>Click Here To Go To Your Profile! </p>
                            </form>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="btn-group">
                    <button type="button" class="btn btn-primary"><a href="login.html"
                            class="btn-primary">Logout</a></button>
                </div>
            </div>
        </div>

    </nav>


    <form id="createYourProgram">
        <h1 id="heading">Create your program</h1>
        <div class="row">
            <div class="col-25">
                <label for="label">Label</label>
            </div>
            <div class="col-75">
                <input type="text" id="labelValue" name="chosenLabel" placeholder="Label your program">
            </div>
        </div>
        <div class="row">
            <div class="col-25">
                <label for="activityType">Activity Type</label>
            </div>
            <div class="col-75">
                <input type="text" id="activity" name="chosenActivity" placeholder="Choose your activity">
            </div>
        </div>
        <div class="row">
            <div class="col-25">
                <label for="goal">Goal</label>
            </div>
            <div class="col-75">
                <input type="text" id="goalValue" name="chosenGoal" placeholder="Specify your goal">
            </div>
        </div>
        <div class="row">
            <div class="col-25">
                <label for="start">Start Date</label>
            </div>
            <div class="col-75">
                <input type="date" id="startDate" name="chosenStartDate">
            </div>
        </div>
        <div class="row">
            <div class="col-25">
                <label for="time">Activity Time</label>
            </div>
            <div class="col-75">
                <input type="time" id="time" name="chosenTime">
            </div>
        </div>
        <div class="row">
            <div class="col-25">
                <label for="repetition">Repeat</label>
            </div>
            <div class="col-75" id="multiselect">
                <div class="selectBox" onclick="showCheckboxes()">
                    <select>
                        <option>Select an option</option>
                    </select>
                    <div class="overSelect"></div>
                </div>
                <div id="checkboxes">
                    <label for="one">
                        <input type="checkbox" id="one" value="Never" />Never</label>
                    <label for="two">
                        <input type="checkbox" id="two" value="Every Monday" />Every Monday</label>
                    <label for="three">
                        <input type="checkbox" id="three" value="Every Tuesday" />Every Tuesday</label>
                    <label for="four">
                        <input type="checkbox" id="four" value="Every Wednesday" />Every Wednesday</label>
                    <label for="five">
                        <input type="checkbox" id="five" value="Every Thursday" />Every Thursday</label>
                    <label for="six">
                        <input type="checkbox" id="six" value="Every Friday" />Every Friday</label>
                    <label for="seven">
                        <input type="checkbox" id="seven" value="Every Saturday" />Every Saturday</label>
                    <label for="eight">
                        <input type="checkbox" id="eight" value="Every Sunday" />Every Sunday</label>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-25">
                <label for="reminder">Reminder Voice</label>
            </div>
            <div class="col-75">
                <select id="reminderVoice" aria-label="Default select example">
                    <option selected>Reminder</option>
                    <option value="Anime Voice">Anime Voice</option>
                    <option value="Snow White">Snow White</option>
                    <option value="Cruella de Vil">Cruella de Vil</option>
                    <option value="News Anchor">News Anchor</option>
                    <option value="NatGeo Narrator">NatGeo Narrator</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="col-25">
                <label for="notes">Notes</label>
            </div>
            <div class="col-75">
                <textarea id="notes" name="writtenNotes" placeholder="Extra notes about the activity"
                    style="height:200px"></textarea>
            </div>
        </div>
        <div class="row">
            <button class="update" type="button" onclick="addShareProgram(); alert('Program shared')">Share</button>
            <button class="update" type="button" onclick="createProgram(); alert('New program is created')">Create
                Program</button>
        </div>

    </form>





    <!--Javascript starts here-->
    <script>
        var expanded = false;

        function showCheckboxes() {
            var checkboxes = document.getElementById("checkboxes");
            if (!expanded) {
                checkboxes.style.display = "block";
                expanded = true;
            } else {
                checkboxes.style.display = "none";
                expanded = false;
            }
        }


        function createProgram() {
            let Label = document.getElementById("labelValue").value;
            let ActivityType = document.getElementById("activity").value;
            let Goal = document.getElementById("goalValue").value;
            let StartDate = document.getElementById("startDate").value;
            let ActivityTime = document.getElementById("time").value;
            //let Repeat = document.querySelector("list1").value;
            let ReminderVoice = document.getElementById("reminderVoice").value;
            let Notes = document.getElementById("notes").value

            //----------------------Repetition Values-------------------------------//
            const repetitionDays = new Array();
            if(document.getElementById("one").checked){
                repetitionDays.push("Never");
            }
            if(document.getElementById("two").checked){
                repetitionDays.push("Every Monday");
            }
            if(document.getElementById("three").checked){
                repetitionDays.push("Every Tuesday");
            }
            if(document.getElementById("four").checked){
                repetitionDays.push("Every Wednesday");
            }
            if(document.getElementById("five").checked){
                repetitionDays.push("Every Thursday");
            }
            if(document.getElementById("six").checked){
                repetitionDays.push("Every Friday");
            }
            if(document.getElementById("seven").checked){
                repetitionDays.push("Every Saturday");
            }
            if(document.getElementById("eight").checked){
                repetitionDays.push("Every Sunday");
            }
            //------------------------Repetition Values End--------------------------------//

            firebase.auth().onAuthStateChanged(user => {
                if (user) {
                    var currentUser = db.collection("users").doc(user.uid)
                    var userID = user.uid;
                    //get the document for current user.
                    currentUser.get()
                        .then(userDoc => {
                            //get user Email
                            var userEmail = userDoc.data().email;
                            // Start a new collection and add all data in it.
                            db.collection("SamplePrograms").add({
                                UserID: userID,
                                UserEmail: userEmail,
                                Label: Label,
                                ActivityType: ActivityType,
                                Goal: Goal,
                                StartDate: StartDate,
                                ActivityTime: ActivityTime,
                                Repeat: repetitionDays,
                                ReminderVoice: ReminderVoice,
                                Notes: Notes
                            });
                        })
                } else {
                    // No user is signed in.
                    console.log("no user signed in");
                }
            });
        }


        function addShareProgram() {
            let Label = document.getElementById("labelValue").value;
            let ActivityType = document.getElementById("activity").value;
            let Goal = document.getElementById("goalValue").value;
            let StartDate = document.getElementById("startDate").value;
            let ActivityTime = document.getElementById("time").value;
            //let Repeat = document.querySelector("list1").value;
            let ReminderVoice = document.getElementById("reminderVoice").value;
            let Notes = document.getElementById("notes").value

             //-------------------Repetition values----------------------------------//
            const repetitionDays = new Array();

            if(document.getElementById("one").checked){
                repetitionDays.push("Never");
            }
            if(document.getElementById("two").checked){
                repetitionDays.push("Every Monday");
            }
            if(document.getElementById("three").checked){
                repetitionDays.push("Every Tuesday");
            }
            if(document.getElementById("four").checked){
                repetitionDays.push("Every Wednesday");
            }
            if(document.getElementById("five").checked){
                repetitionDays.push("Every Thursday");
            }
            if(document.getElementById("six").checked){
                repetitionDays.push("Every Friday");
            }
            if(document.getElementById("seven").checked){
                repetitionDays.push("Every Saturday");
            }
            if(document.getElementById("eight").checked){
                repetitionDays.push("Every Sunday");
            }
            //let Repeat = repetitionDays;
            //-------------------------Repetition Values End-------------------------------//

            firebase.auth().onAuthStateChanged(user => {
                if (user) {
                    var currentUser = db.collection("users").doc(user.uid)
                    var userID = user.uid;
                    //get the document for current user.
                    currentUser.get()
                        .then(userDoc => {
                            //get user Email
                            var userEmail = userDoc.data().email;
                            // Start a new collection and add all data in it.
                            db.collection("SharedPrograms").add({
                                UserID: userID,
                                UserEmail: userEmail,
                                Label: Label,
                                ActivityType: ActivityType,
                                Goal: Goal,
                                StartDate: StartDate,
                                ActivityTime: ActivityTime,
                                Repeat: repetitionDays,
                                ReminderVoice: ReminderVoice,
                                Notes: Notes
                            });
                        })
                } else {
                    // No user is signed in.
                    console.log("no user signed in");
                }
            });
        }
    </script>




</body>

</html>